{"articleMdxSource":{"compiledSource":"\"use strict\";\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar layoutProps = {};\nvar MDXLayout = \"wrapper\";\n\nfunction MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"h1\", null, \"MWAP Configuration\"), mdx(\"p\", null, \"MWAP allows you to easily tap into the webpack configuration through the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"mwap.config.js\"), \" file in the root of your project.\"), mdx(\"p\", null, \"Providing access to the webpack config gives you almost unlimited possibilities in the type of content you can import into your applications.\"), mdx(\"p\", null, \"A custom \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"mwap.config.js\"), \" might look something like:\"), mdx(Code, {\n    language: \"tsx\",\n    code: configuration,\n    mdxType: \"Code\"\n  }), mdx(\"h2\", null, \"Related\"), mdx(\"p\", null, \"For more information on what to do next, we recommend the following sections:\"), mdx(ComponentsRenderer, {\n    components: data.components,\n    mdxType: \"ComponentsRenderer\"\n  }));\n}\n\n;\nMDXContent.isMDXComponent = true;","renderedOutput":"<h1>MWAP Configuration</h1><p>MWAP allows you to easily tap into the webpack configuration through the <code>mwap.config.js</code> file in the root of your project.</p><p>Providing access to the webpack config gives you almost unlimited possibilities in the type of content you can import into your applications.</p><p>A custom <code>mwap.config.js</code> might look something like:</p><pre class=\"prism-code language-tsx block overflow-x-auto mb-4 px-4\" style=\"background-color:#282c34;color:#ffffff\"><code><div class=\"token-line\" style=\"color:#ffffff\"><span class=\"token keyword\" style=\"color:#c5a5c5\">const</span><span class=\"token plain\"> path </span><span class=\"token operator\" style=\"color:#d7deea\">=</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:#c5a5c5\">require</span><span class=\"token punctuation\" style=\"color:#8dc891\">(</span><span class=\"token string\" style=\"color:#8dc891\">&quot;path&quot;</span><span class=\"token punctuation\" style=\"color:#8dc891\">)</span><span class=\"token punctuation\" style=\"color:#8dc891\">;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#ffffff\"><span class=\"token plain\" style=\"display:inline-block\">\n</span></div><div class=\"token-line\" style=\"color:#ffffff\"><span class=\"token plain\"></span><span class=\"token keyword\" style=\"color:#c5a5c5\">const</span><span class=\"token plain\"> getJsTsRules </span><span class=\"token operator\" style=\"color:#d7deea\">=</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:#c5a5c5\">require</span><span class=\"token punctuation\" style=\"color:#8dc891\">(</span><span class=\"token string\" style=\"color:#8dc891\">&quot;@mwap/cli/lib/utils/get-jsts-rules&quot;</span><span class=\"token punctuation\" style=\"color:#8dc891\">)</span><span class=\"token punctuation\" style=\"color:#8dc891\">;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#ffffff\"><span class=\"token plain\"></span><span class=\"token keyword\" style=\"color:#c5a5c5\">const</span><span class=\"token plain\"> getStyleRules </span><span class=\"token operator\" style=\"color:#d7deea\">=</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:#c5a5c5\">require</span><span class=\"token punctuation\" style=\"color:#8dc891\">(</span><span class=\"token string\" style=\"color:#8dc891\">&quot;@mwap/cli/lib/utils/get-style-rules&quot;</span><span class=\"token punctuation\" style=\"color:#8dc891\">)</span><span class=\"token punctuation\" style=\"color:#8dc891\">;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#ffffff\"><span class=\"token plain\" style=\"display:inline-block\">\n</span></div><div class=\"token-line\" style=\"color:#ffffff\"><span class=\"token plain\"></span><span class=\"token keyword\" style=\"color:#c5a5c5\">module</span><span class=\"token punctuation\" style=\"color:#8dc891\">.</span><span class=\"token plain\">exports </span><span class=\"token operator\" style=\"color:#d7deea\">=</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:#8dc891\">{</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#ffffff\"><span class=\"token plain\">  </span><span class=\"token function\" style=\"color:#79b6f2\">webpack</span><span class=\"token punctuation\" style=\"color:#8dc891\">(</span><span class=\"token parameter\">config</span><span class=\"token parameter punctuation\" style=\"color:#8dc891\">,</span><span class=\"token parameter\"> args</span><span class=\"token punctuation\" style=\"color:#8dc891\">)</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:#8dc891\">{</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#ffffff\"><span class=\"token plain\">    </span><span class=\"token comment\" style=\"color:#999999\">// Use preact in production for smaller bundles</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#ffffff\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:#c5a5c5\">if</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:#8dc891\">(</span><span class=\"token operator\" style=\"color:#d7deea\">!</span><span class=\"token plain\">args</span><span class=\"token punctuation\" style=\"color:#8dc891\">.</span><span class=\"token plain\">isServer </span><span class=\"token operator\" style=\"color:#d7deea\">&amp;&amp;</span><span class=\"token plain\"> args</span><span class=\"token punctuation\" style=\"color:#8dc891\">.</span><span class=\"token plain\">mode </span><span class=\"token operator\" style=\"color:#d7deea\">===</span><span class=\"token plain\"> </span><span class=\"token string\" style=\"color:#8dc891\">&quot;production&quot;</span><span class=\"token punctuation\" style=\"color:#8dc891\">)</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:#8dc891\">{</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#ffffff\"><span class=\"token plain\">      config</span><span class=\"token punctuation\" style=\"color:#8dc891\">.</span><span class=\"token plain\">resolve</span><span class=\"token punctuation\" style=\"color:#8dc891\">.</span><span class=\"token plain\">alias </span><span class=\"token operator\" style=\"color:#d7deea\">=</span><span class=\"token plain\"> config</span><span class=\"token punctuation\" style=\"color:#8dc891\">.</span><span class=\"token plain\">resolve</span><span class=\"token punctuation\" style=\"color:#8dc891\">.</span><span class=\"token plain\">alias </span><span class=\"token operator\" style=\"color:#d7deea\">||</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:#8dc891\">{</span><span class=\"token punctuation\" style=\"color:#8dc891\">}</span><span class=\"token punctuation\" style=\"color:#8dc891\">;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#ffffff\"><span class=\"token plain\">      config</span><span class=\"token punctuation\" style=\"color:#8dc891\">.</span><span class=\"token plain\">resolve</span><span class=\"token punctuation\" style=\"color:#8dc891\">.</span><span class=\"token plain\">alias</span><span class=\"token punctuation\" style=\"color:#8dc891\">.</span><span class=\"token plain\">react </span><span class=\"token operator\" style=\"color:#d7deea\">=</span><span class=\"token plain\"> </span><span class=\"token string\" style=\"color:#8dc891\">&quot;preact/compat&quot;</span><span class=\"token punctuation\" style=\"color:#8dc891\">;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#ffffff\"><span class=\"token plain\">      config</span><span class=\"token punctuation\" style=\"color:#8dc891\">.</span><span class=\"token plain\">resolve</span><span class=\"token punctuation\" style=\"color:#8dc891\">.</span><span class=\"token plain\">alias</span><span class=\"token punctuation\" style=\"color:#8dc891\">[</span><span class=\"token string\" style=\"color:#8dc891\">&quot;react-dom&quot;</span><span class=\"token punctuation\" style=\"color:#8dc891\">]</span><span class=\"token plain\"> </span><span class=\"token operator\" style=\"color:#d7deea\">=</span><span class=\"token plain\"> </span><span class=\"token string\" style=\"color:#8dc891\">&quot;preact/compat&quot;</span><span class=\"token punctuation\" style=\"color:#8dc891\">;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#ffffff\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:#8dc891\">}</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#ffffff\"><span class=\"token plain\" style=\"display:inline-block\">\n</span></div><div class=\"token-line\" style=\"color:#ffffff\"><span class=\"token plain\">    </span><span class=\"token comment\" style=\"color:#999999\">// Exclude content directory from base JS/TS and CSS loader rules</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#ffffff\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:#c5a5c5\">const</span><span class=\"token plain\"> </span><span class=\"token function-variable function\" style=\"color:#79b6f2\">excludeContentDir</span><span class=\"token plain\"> </span><span class=\"token operator\" style=\"color:#d7deea\">=</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:#8dc891\">(</span><span class=\"token parameter\">rule</span><span class=\"token punctuation\" style=\"color:#8dc891\">)</span><span class=\"token plain\"> </span><span class=\"token operator\" style=\"color:#d7deea\">=&gt;</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:#8dc891\">{</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#ffffff\"><span class=\"token plain\">      rule</span><span class=\"token punctuation\" style=\"color:#8dc891\">.</span><span class=\"token plain\">exclude </span><span class=\"token operator\" style=\"color:#d7deea\">=</span><span class=\"token plain\"> rule</span><span class=\"token punctuation\" style=\"color:#8dc891\">.</span><span class=\"token plain\">exclude </span><span class=\"token operator\" style=\"color:#d7deea\">||</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:#8dc891\">[</span><span class=\"token punctuation\" style=\"color:#8dc891\">]</span><span class=\"token punctuation\" style=\"color:#8dc891\">;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#ffffff\"><span class=\"token plain\">      rule</span><span class=\"token punctuation\" style=\"color:#8dc891\">.</span><span class=\"token plain\">exclude</span><span class=\"token punctuation\" style=\"color:#8dc891\">.</span><span class=\"token function\" style=\"color:#79b6f2\">push</span><span class=\"token punctuation\" style=\"color:#8dc891\">(</span><span class=\"token plain\">path</span><span class=\"token punctuation\" style=\"color:#8dc891\">.</span><span class=\"token function\" style=\"color:#79b6f2\">resolve</span><span class=\"token punctuation\" style=\"color:#8dc891\">(</span><span class=\"token plain\">args</span><span class=\"token punctuation\" style=\"color:#8dc891\">.</span><span class=\"token plain\">cwd</span><span class=\"token punctuation\" style=\"color:#8dc891\">,</span><span class=\"token plain\"> </span><span class=\"token string\" style=\"color:#8dc891\">&quot;content&quot;</span><span class=\"token punctuation\" style=\"color:#8dc891\">)</span><span class=\"token punctuation\" style=\"color:#8dc891\">)</span><span class=\"token punctuation\" style=\"color:#8dc891\">;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#ffffff\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:#8dc891\">}</span><span class=\"token punctuation\" style=\"color:#8dc891\">;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#ffffff\"><span class=\"token plain\">    </span><span class=\"token function\" style=\"color:#79b6f2\">getJsTsRules</span><span class=\"token punctuation\" style=\"color:#8dc891\">(</span><span class=\"token plain\">config</span><span class=\"token punctuation\" style=\"color:#8dc891\">)</span><span class=\"token punctuation\" style=\"color:#8dc891\">.</span><span class=\"token function\" style=\"color:#79b6f2\">forEach</span><span class=\"token punctuation\" style=\"color:#8dc891\">(</span><span class=\"token plain\">excludeContentDir</span><span class=\"token punctuation\" style=\"color:#8dc891\">)</span><span class=\"token punctuation\" style=\"color:#8dc891\">;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#ffffff\"><span class=\"token plain\">    </span><span class=\"token function\" style=\"color:#79b6f2\">getStyleRules</span><span class=\"token punctuation\" style=\"color:#8dc891\">(</span><span class=\"token plain\">config</span><span class=\"token punctuation\" style=\"color:#8dc891\">)</span><span class=\"token punctuation\" style=\"color:#8dc891\">.</span><span class=\"token function\" style=\"color:#79b6f2\">forEach</span><span class=\"token punctuation\" style=\"color:#8dc891\">(</span><span class=\"token plain\">excludeContentDir</span><span class=\"token punctuation\" style=\"color:#8dc891\">)</span><span class=\"token punctuation\" style=\"color:#8dc891\">;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#ffffff\"><span class=\"token plain\" style=\"display:inline-block\">\n</span></div><div class=\"token-line\" style=\"color:#ffffff\"><span class=\"token plain\">    </span><span class=\"token comment\" style=\"color:#999999\">// Load mdx, js, ts, css, txt and sh files in the content dir as text</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#ffffff\"><span class=\"token plain\">    config</span><span class=\"token punctuation\" style=\"color:#8dc891\">.</span><span class=\"token keyword\" style=\"color:#c5a5c5\">module</span><span class=\"token punctuation\" style=\"color:#8dc891\">.</span><span class=\"token plain\">rules</span><span class=\"token punctuation\" style=\"color:#8dc891\">.</span><span class=\"token function\" style=\"color:#79b6f2\">push</span><span class=\"token punctuation\" style=\"color:#8dc891\">(</span><span class=\"token punctuation\" style=\"color:#8dc891\">{</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#ffffff\"><span class=\"token plain\">      test</span><span class=\"token operator\" style=\"color:#d7deea\">:</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:#8dc891\">[</span><span class=\"token regex regex-delimiter\">/</span><span class=\"token regex regex-source language-regex\">\\.mdx?$</span><span class=\"token regex regex-delimiter\">/</span><span class=\"token punctuation\" style=\"color:#8dc891\">,</span><span class=\"token plain\"> </span><span class=\"token regex regex-delimiter\">/</span><span class=\"token regex regex-source language-regex\">\\.[tj]sx?$</span><span class=\"token regex regex-delimiter\">/</span><span class=\"token punctuation\" style=\"color:#8dc891\">,</span><span class=\"token plain\"> </span><span class=\"token regex regex-delimiter\">/</span><span class=\"token regex regex-source language-regex\">\\.css$</span><span class=\"token regex regex-delimiter\">/</span><span class=\"token punctuation\" style=\"color:#8dc891\">,</span><span class=\"token plain\"> </span><span class=\"token regex regex-delimiter\">/</span><span class=\"token regex regex-source language-regex\">\\.txt$</span><span class=\"token regex regex-delimiter\">/</span><span class=\"token punctuation\" style=\"color:#8dc891\">,</span><span class=\"token plain\"> </span><span class=\"token regex regex-delimiter\">/</span><span class=\"token regex regex-source language-regex\">\\.sh$</span><span class=\"token regex regex-delimiter\">/</span><span class=\"token punctuation\" style=\"color:#8dc891\">]</span><span class=\"token punctuation\" style=\"color:#8dc891\">,</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#ffffff\"><span class=\"token plain\">      include</span><span class=\"token operator\" style=\"color:#d7deea\">:</span><span class=\"token plain\"> path</span><span class=\"token punctuation\" style=\"color:#8dc891\">.</span><span class=\"token function\" style=\"color:#79b6f2\">resolve</span><span class=\"token punctuation\" style=\"color:#8dc891\">(</span><span class=\"token plain\">args</span><span class=\"token punctuation\" style=\"color:#8dc891\">.</span><span class=\"token plain\">cwd</span><span class=\"token punctuation\" style=\"color:#8dc891\">,</span><span class=\"token plain\"> </span><span class=\"token string\" style=\"color:#8dc891\">&quot;content&quot;</span><span class=\"token punctuation\" style=\"color:#8dc891\">)</span><span class=\"token punctuation\" style=\"color:#8dc891\">,</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#ffffff\"><span class=\"token plain\">      use</span><span class=\"token operator\" style=\"color:#d7deea\">:</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:#8dc891\">[</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#ffffff\"><span class=\"token plain\">        </span><span class=\"token punctuation\" style=\"color:#8dc891\">{</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#ffffff\"><span class=\"token plain\">          loader</span><span class=\"token operator\" style=\"color:#d7deea\">:</span><span class=\"token plain\"> </span><span class=\"token string\" style=\"color:#8dc891\">&quot;raw-loader&quot;</span><span class=\"token punctuation\" style=\"color:#8dc891\">,</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#ffffff\"><span class=\"token plain\">        </span><span class=\"token punctuation\" style=\"color:#8dc891\">}</span><span class=\"token punctuation\" style=\"color:#8dc891\">,</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#ffffff\"><span class=\"token plain\">      </span><span class=\"token punctuation\" style=\"color:#8dc891\">]</span><span class=\"token punctuation\" style=\"color:#8dc891\">,</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#ffffff\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:#8dc891\">}</span><span class=\"token punctuation\" style=\"color:#8dc891\">)</span><span class=\"token punctuation\" style=\"color:#8dc891\">;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#ffffff\"><span class=\"token plain\" style=\"display:inline-block\">\n</span></div><div class=\"token-line\" style=\"color:#ffffff\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:#c5a5c5\">return</span><span class=\"token plain\"> config</span><span class=\"token punctuation\" style=\"color:#8dc891\">;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#ffffff\"><span class=\"token plain\">  </span><span class=\"token punctuation\" style=\"color:#8dc891\">}</span><span class=\"token punctuation\" style=\"color:#8dc891\">,</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#ffffff\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color:#8dc891\">}</span><span class=\"token punctuation\" style=\"color:#8dc891\">;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#ffffff\"><span class=\"token plain\" style=\"display:inline-block\">\n</span></div></code></pre><h2>Related</h2><p>For more information on what to do next, we recommend the following sections:</p><ul class=\"list-none\"><li><a href=\"/docs/pages\">Pages</a></li><li><a href=\"/docs/built-in-css-support\">CSS Support</a></li><li><a href=\"/docs/data-loaders\">Data Loaders</a></li></ul>","scope":{"data":{"components":[{"name":"related-list","props":{"links":[{"to":"/docs/pages","label":"Pages"},{"to":"/docs/built-in-css-support","label":"CSS Support"},{"to":"/docs/data-loaders","label":"Data Loaders"}]}}]},"configuration":"const path = require(\"path\");\n\nconst getJsTsRules = require(\"@mwap/cli/lib/utils/get-jsts-rules\");\nconst getStyleRules = require(\"@mwap/cli/lib/utils/get-style-rules\");\n\nmodule.exports = {\n  webpack(config, args) {\n    // Use preact in production for smaller bundles\n    if (!args.isServer && args.mode === \"production\") {\n      config.resolve.alias = config.resolve.alias || {};\n      config.resolve.alias.react = \"preact/compat\";\n      config.resolve.alias[\"react-dom\"] = \"preact/compat\";\n    }\n\n    // Exclude content directory from base JS/TS and CSS loader rules\n    const excludeContentDir = (rule) => {\n      rule.exclude = rule.exclude || [];\n      rule.exclude.push(path.resolve(args.cwd, \"content\"));\n    };\n    getJsTsRules(config).forEach(excludeContentDir);\n    getStyleRules(config).forEach(excludeContentDir);\n\n    // Load mdx, js, ts, css, txt and sh files in the content dir as text\n    config.module.rules.push({\n      test: [/\\.mdx?$/, /\\.[tj]sx?$/, /\\.css$/, /\\.txt$/, /\\.sh$/],\n      include: path.resolve(args.cwd, \"content\"),\n      use: [\n        {\n          loader: \"raw-loader\",\n        },\n      ],\n    });\n\n    return config;\n  },\n};\n"}},"title":"MWAP Configuration","chunks":["components_async_code_tsx","components_async_components_renderer_tsx","components_async_related_list_tsx"]}